{"version":3,"sources":["components/Modal/modal.module.css","components/Button/button.module.css","components/ImageGallery/imageGallery.module.css","components/Loader/loader.module.css","app.module.css","components/Searchbar/searchBar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","services/SearchApi.js","App.js","index.js","components/ImageGalleryItem/imageGalleryItem.module.css"],"names":["module","exports","Searchbar","inputSubmit","useState","name","setName","className","styles","onSubmit","evt","preventDefault","trim","alert","SearchForm","type","SearchForm_button","SearchForm_button_label","SearchForm_input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","required","ImageGalleryItem","hits","onClick","useEffect","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","id","tags","webformatURL","largeImageURL","src","lowsrc","alt","ImageGalleryItem_image","Button","btnName","ImageGallery","gallery","loadMore","showModal","Loader","Spinner","color","height","width","timeout","modalRoot","querySelector","Modal","children","onClose","handleKeyDown","e","code","addEventListener","removeEventListener","createPortal","Overlay","target","SearchApi","search","page","fetch","then","response","ok","json","Promise","reject","Error","App","setSearch","setGallery","setPage","setShowModal","largeImg","setLargeImg","loading","setLoading","loaderStatus","setLoaderStatus","error","setError","isFirstRender","useRef","toggleModal","current","data","prevState","length","catch","newError","console","log","finally","input","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e4169e7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"modal_Overlay__1XrcN\",\"Modal\":\"modal_Modal__gIvrV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"button_Button__3HsF5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"imageGallery_ImageGallery__2al7q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"loader_Spinner__24GxN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"app_App__2vmJS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"searchBar_Searchbar__1aByW\",\"SearchForm\":\"searchBar_SearchForm__37fZM\",\"SearchForm_button\":\"searchBar_SearchForm_button__2o_R1\",\"SearchForm_button_label\":\"searchBar_SearchForm_button_label__2jE6x\",\"SearchForm_input\":\"searchBar_SearchForm_input__tQxYQ\"};","import React, { useState } from 'react';\r\n\r\nimport styles from './searchBar.module.css'\r\n\r\nexport default function Searchbar({ inputSubmit }) {\r\n    const [name, setName] = useState('');\r\n\r\n    const handleChange = (evt) => {\r\n        const { value } = evt.currentTarget;\r\n        setName(value);\r\n    }\r\n\r\n    const handleSubmit = (evt) => {\r\n        evt.preventDefault();\r\n\r\n        if (name.trim() === \"\") {\r\n            alert('Enter search request');\r\n            return;\r\n        }\r\n\r\n        inputSubmit(name);\r\n        \r\n        setName('');\r\n    }\r\n\r\n    return (\r\n        <header className={styles.Searchbar}>\r\n            <form onSubmit={handleSubmit} className={styles.SearchForm}>\r\n                <button type=\"submit\" className={styles.SearchForm_button}>\r\n                    <span className={styles.SearchForm_button_label}>Search</span>\r\n                </button>\r\n                \r\n                <input\r\n                className={styles.SearchForm_input}\r\n                type=\"text\"\r\n                value={name}\r\n                onChange={handleChange}\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search images and photos\"\r\n                required                    \r\n                />            \r\n            </form>\r\n        </header>  \r\n    );\r\n}","import React, { useEffect } from 'react';\r\n\r\nimport styles from './imageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ hits, onClick }) {\r\n    useEffect(() => {\r\n        window.scrollTo({\r\n            top: document.documentElement.scrollHeight,\r\n            behavior: 'smooth',\r\n        });\r\n    }, [hits])\r\n\r\n    return (\r\n        hits.map(({ id, tags, webformatURL, largeImageURL }) => (\r\n            <li className={styles.ImageGalleryItem} key={id} >\r\n                <img\r\n                    onClick={onClick}\r\n                    src={webformatURL}\r\n                    lowsrc={largeImageURL}\r\n                    alt={tags}\r\n                    className={styles.ImageGalleryItem_image} />\r\n            </li>\r\n        ))\r\n    );\r\n}","import React from 'react';\r\n\r\nimport styles from './button.module.css';\r\n\r\nconst Button = ({ onClick, btnName }) => (\r\n    <button\r\n        type=\"button\"\r\n        className={styles.Button}\r\n        onClick={()=>onClick()}\r\n    >{btnName}\r\n    </button>\r\n);\r\n\r\nexport default Button;","import React from 'react';\r\n\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Button from '../Button/Button';\r\n\r\nimport styles from './imageGallery.module.css';\r\n\r\nconst ImageGallery = ({ gallery, loadMore, showModal }) => (\r\n    <>\r\n        <ul className={styles.ImageGallery}>\r\n            <ImageGalleryItem hits={gallery} onClick={showModal}/>\r\n        </ul>\r\n        <Button onClick={loadMore} btnName=\"Load more\"/>\r\n    </>\r\n);\r\n\r\nexport default ImageGallery;\r\n\r\n","import React from 'react';\r\n\r\nimport Spinner from \"react-loader-spinner\";\r\n\r\nimport styles from './loader.module.css';\r\n\r\nconst Loader = () => (\r\n    <div className={styles.Spinner}>\r\n        <Spinner\r\n            type=\"Puff\"\r\n            color=\"#3f51b599\"\r\n            height={300}\r\n            width={300}\r\n            timeout={3000}            \r\n        />\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport styles from './modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ children, onClose }) {\r\n\r\n    const handleBackDropClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        function handleKeyDown (e)  {\r\n            if (e.code === 'Escape') {\r\n                onClose();\r\n            }\r\n        }\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n\r\n        return () => {\r\n            window.removeEventListener('keydown', handleKeyDown)\r\n        };\r\n    }, [onClose])\r\n\r\n    return createPortal(\r\n        <div className={styles.Overlay} onClick={handleBackDropClick}>\r\n            <div className={styles.Modal}>                    \r\n                {children}\r\n            </div>\r\n        </div>, modalRoot\r\n    );\r\n}","const SearchApi = (search, page) => {\r\n    const API_KEY = \"21847768-5e5b2f7eaa86d5895d80eb462\";\r\n    const URL = \"https://pixabay.com/api/?image_type=photo&orientation=horizontal&per_page=12&key=\";\r\n\r\n    return (\r\n        fetch(`${URL}${API_KEY}&q=${search}&page=${page}`)\r\n        .then(response => {\r\n          if (response.ok) {\r\n            return response.json();\r\n          }\r\n\r\n          return Promise.reject(\r\n            new Error(`Search request ${search} not found`),\r\n          );\r\n        }));\r\n}\r\n\r\nexport default SearchApi;","import React, { useEffect, useState, useRef } from 'react';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport SearchApi from './services/SearchApi';\n\nimport styles from './app.module.css'\n\nexport default function App() {\n  const [search, setSearch] = useState(null);\n  const [gallery, setGallery] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [loaderStatus, setLoaderStatus] = useState('init');\n  const [error, setError] = useState(null);\n  const isFirstRender = useRef(true);\n\n  const handleInputSubmit = (input) => {\n    setSearch(input);\n    setLoaderStatus('init');\n    setPage(1);\n  }\n\n  const handleLoadMore = () => {\n    setPage(prevState => prevState + 1);\n    setLoaderStatus('loadMore');\n  }\n\n  const toggleModal = (e) => {\n    if (e) {\n      setLargeImg(e.target.lowsrc);\n    }\n    \n    setShowModal(!showModal);\n  }\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    setLoading(true);\n\n    if (page === 1) {\n      setGallery([]);      \n    }\n\n    SearchApi(search,page)\n      .then(data => {\n        if (page !== 1) {\n          setGallery(prevState => {\n            const newData = [...prevState, ...data.hits]\n            return newData;\n          });\n        }\n\n        if (page === 1) {\n          if (data.hits.length === 0) {\n            setGallery(data.hits);\n            setLoaderStatus('nothingFound');\n            return;\n          }\n\n          setGallery(data.hits);\n          setLoaderStatus('init');\n        }          \n      })\n      .catch(newError => {\n        setError(newError);\n\n        if (error) {\n          console.log(error);\n        }\n      })\n      .finally(() => setLoading(false))\n\n  }, [search, page, error]);\n\n  return (\n    <div className={styles.App}>\n\n      <Searchbar inputSubmit={handleInputSubmit} />\n\n      {loading && loaderStatus === 'init' && <Loader />}\n      \n      {gallery.length > 1 && <ImageGallery\n        gallery = {gallery}\n        loadMore = {handleLoadMore}\n        showModal={toggleModal} />}\n      \n      {loaderStatus === 'nothingFound' && search !== null &&\n        <h1>Nothing found.... Try again</h1>}\n      \n      {showModal && <Modal onClose={toggleModal}>\n        <img src={largeImg} alt=\"\" />\n      </Modal>}\n      \n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"imageGalleryItem_ImageGalleryItem__1mn3P\",\"ImageGalleryItem_image\":\"imageGalleryItem_ImageGalleryItem_image__1i-te\"};"],"sourceRoot":""}